<?xml version="1.0" encoding="utf-8"?>
<!--
     draft-rfcxml-general-template-annotated-00

     This template includes examples of most of the features of RFCXML with comments explaining
     how to customise them, and examples of how to achieve specific formatting.

     Documentation is at https://authors.ietf.org/en/templates-and-schemas
-->
<?xml-model href="rfc7991bis.rnc"?>  <!-- Required for schema validation and schema-aware editing -->
<!-- <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?> -->
<!-- This third-party XSLT can be enabled for direct transformations in XML processors, including most browsers -->

<!DOCTYPE rfc [
  <!ENTITY nbsp    "&#160;">
  <!ENTITY zwsp   "&#8203;">
  <!ENTITY nbhy   "&#8209;">
  <!ENTITY wj     "&#8288;">
]>
<!-- If further character entities are required then they should be added to the DOCTYPE above.
     Use of an external entity file is not recommended. -->

<rfc
  xmlns:xi="http://www.w3.org/2001/XInclude"
  category="info"
  docName="draft-augustyn-intarea-ipref-framework-00"
  ipr="trust200902"
  obsoletes=""
  updates=""
  submissionType="IETF"
  xml:lang="en"
  version="3">
<!--
    * docName should be the name of your draft
    * category should be one of std, bcp, info, exp, historic
    * ipr should be one of trust200902, noModificationTrust200902, noDerivativesTrust200902, pre5378Trust200902
    * updates can be an RFC number as NNNN
    * obsoletes can be an RFC number as NNNN
-->

  <front>
    <title abbrev="IPREF Framework">Framework for IP Addressing with References (IPREF)</title> <!-- https://authors.ietf.org/en/rfcxml-vocabulary#title-4 -->
    <!--  The abbreviated title is required if the full title is longer than 39 characters -->

    <seriesInfo name="Internet-Draft" value="draft-augustyn-intarea-ipref-framework-00"/> <!-- https://authors.ietf.org/en/rfcxml-vocabulary#seriesinfo -->
    <!-- Set value to the name of the draft  -->

    <author fullname="Waldemar Augustyn" initials="W" role="editor" surname="Augustyn"> <!-- https://authors.ietf.org/en/rfcxml-vocabulary#author -->
    <!-- initials should not include an initial for the surname -->
    <!-- role="editor" is optional -->
    <!-- Can have more than one author -->

    <!-- all of the following elements are optional -->
      <address> <!-- https://authors.ietf.org/en/rfcxml-vocabulary#address -->
        <email>waldemar@wdmsys.com</email>
      </address>
    </author>

    <date year="2022" month="11" day="28"/> <!-- https://authors.ietf.org/en/rfcxml-vocabulary#date -->
    <!-- On draft subbmission:
         * If only the current year is specified, the current day and month will be used.
         * If the month and year are both specified and are the current ones, the current day will
           be used
         * If the year is not the current one, it is necessary to specify at least a month and day="1" will be used.
    -->

    <area>General</area>
    <workgroup>Internet Engineering Task Force</workgroup>
    <!-- "Internet Engineering Task Force" is fine for individual submissions.  If this element is
          not present, the default is "Network Working Group", which is used by the RFC Editor as
          a nod to the history of the RFC Series. -->

    <keyword>IPREF</keyword>
    <!-- Multiple keywords are allowed.  Keywords are incorporated into HTML output files for
         use by search engines. -->

    <abstract>
      <t>This document describes IP addressing with references (IPREF) and how it can be used with IPv4 and IPv6.</t>
      <t>It also described how IPREF addresses may be distributed through Domain Name System</t>
    </abstract>

  </front>

  <middle>

    <section>
    <!-- The default attributes for <section> are numbered="true" and toc="default" -->
      <name>Introduction</name>
      <t>Introductory text</t>

      <section anchor="requirements">
      <!-- anchor is an optional attribute -->
        <name>Requirements Language</name>
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
          "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
          RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
          interpreted as described in BCP 14 <xref target="RFC2119"/>
          <xref target="RFC8174"/> when, and only when, they appear in
          all capitals, as shown here.</t>
      </section>
      <!-- The 'Requirements Language' section is optional -->

      <section anchor="terminology"><name>IPREF Terminology</name>
        <t>IPREF - short name referring to the technology described in this document, pronounced I-P-REF</t>
        <t><em>ea</em> - encoded address, a native address presented to hosts in lieu of an IPREF address </t>
        <t><em>our</em> - pertaining to IP address, IPREF address, or reference controlled by the local network</t>
        <t><em>ref</em> - IPREF reference</t>
        <t><em>their</em> - pertaining to IP address, IPREF address, or reference controlled by the remote network</t>
        <t><em>third</em> network - network connecting communicating private networks, e.g.: the Internet</t>
      </section>

    </section>

    <section><name>Overview</name>

      <t>Overview text</t>

      <figure><name>private networks</name>
        <artset>  <!-- https://authors.ietf.org/en/rfcxml-vocabulary#artset -->
          <artwork type="ascii-art" name="private networks diagram">
            <![CDATA[
                  ╲                   ╲     Encoding Network B: 10.192.0.0/10
                                               Local Network B: 172.18.2.0/24
                    ╲                   ╲
                                                                   ┌──────┐
                      ╲                   ╲                   ┃ .66│      │
                                         ┏━━━━━━━┓            ┠────┤ host │
                        ╲  198.51.100.22 ┃ IPREF ┃.2          ┃    │  B6  │
                                       ╭─┨ g-way ┠────────────┨    └──────┘
    ┌──────┐              ╲            ╎ ┃  GWB  ┃            ┃
    │      │.75 ┃                      ╎ ┗━━━━━━━┛            ┃
    │ host ├────┨           ╲                   ╲             ┃    ┌──────┐
    │  A5  │    ┃                Third Network                ┃ .64│      │
    └──────┘    ┃             ╲                   ╲           ┠────┤ host │
                ┃            ┏━━━━━━━┓ ╎                      ┃    │  B4  │
                ┃         .1 ┃ IPREF ┃ ╎            ╲              └──────┘
    ┌──────┐    ┠────────────┨ g-way ┠─╯
    │      │.77 ┃            ┃  GWA  ┃ 198.51.100.11  ╲
    │ host ├────┨            ┗━━━━━━━┛
    │  A7  │    ┃                   ╲                   ╲
    └──────┘
                                      ╲                   ╲
     Local Network A: 172.17.1.0/24
  Encoding Network A: 10.128.0.0/10     ╲                   ╲
            ]]>
          </artwork>
        </artset>
      </figure>

      <t>More overview text</t>

      <figure><name>address rewriting</name>
        <artset> <artwork type="ascii-art" name="address rewriting diagram"> <![CDATA[
  Host B4 has IPREF address: 198.51.100.22+400
          encoded at GWA as: 10.128.0.40

  Host A5 is allocated IPREF address: 198.51.100.11+50
                   encoded at GWB as: 10.192.0.70

  Sending a packet from A5 to B4 and receiving a response back at A5:

         ┌───────────────────┬───────────────────┬─────────┐
  1 A5:  │    172.17.1.75    │    10.128.0.40    │ payload │
         └───────────────────┴───────────────────┴─────────┘
         ┌───────────────────┬───────────────────┬─────────┐
  2 GWA: │ 198.51.100.11+50  │ 198.51.100.22+400 │ payload │
         └───────────────────┴───────────────────┴─────────┘
                          ┌───────────────────┬───────────────────┬─────────┐
  3                  GWB: │    10.192.0.70    │    172.18.2.64    │ payload │
                          └───────────────────┴───────────────────┴─────────┘
                          ┌───────────────────┬───────────────────┬─────────┐
  4                  B4:  │    10.192.0.70    │    172.18.2.64    │ payload │
                          └───────────────────┴───────────────────┴─────────┘

                          ┌───────────────────┬───────────────────┬─────────┐
  5                  B4:  │    172.18.2.64    │    10.192.0.70    │ payload │
                          └───────────────────┴───────────────────┴─────────┘
                          ┌───────────────────┬───────────────────┬─────────┐
  6                  GWB: │ 198.51.100.22+400 │ 198.51.100.11+50  │ payload │
                          └───────────────────┴───────────────────┴─────────┘
         ┌───────────────────┬───────────────────┬─────────┐
  7 GWA: │    10.128.0.40    │    172.17.1.75    │ payload │
         └───────────────────┴───────────────────┴─────────┘
         ┌───────────────────┬───────────────────┬─────────┐
  8 A5:  │    10.128.0.40    │    172.17.1.75    │ payload │
         └───────────────────┴───────────────────┴─────────┘
            ]]> </artwork> </artset>
      </figure>

      <t>Continue overview text</t>

      <section><name>IPREF Addresses</name>
        <t>text ipref addresses</t>
      </section>

      <section><name>Encoding Addresses</name>
        <t>text encoding addresses</t>
      </section>

      <section><name>IPREF Gateways</name>
        <t>text ipref gateways</t>
      </section>

      <section><name>IPREF Mappers</name>
        <t>text ipref mappers</t>
      </section>

      <section><name>Local Hosts</name>
        <t>text local hosts</t>
      </section>

      <section><name>Local Networks</name>
        <t>text local networks</t>
      </section>

      <section><name>Third Network, The Internet</name>
        <t>text third network, the Internet</t>
      </section>

      <section><name>Publishing IPREF Addresses via DNS</name>
        <t>text ipref publishing ipref addresses via dns</t>
      </section>

    </section><!-- ^^Overview^^ -->

    <section><name>IPREF Reference</name>
      <t>text ipref reference</t>
    </section>

    <section><name>IPREF Address</name>
      <t>text ipref address</t>
    </section>

    <section><name>Embedding References in IP Packets </name>

      <t>A reference is a network layer entity and the most natural place for embedding it would
         be a network layer header, such as an IPv4 option or an IPv6 next header. Another way of
         embedding a reference is to place it along with the payload. One such common
         technique is tunneling where a reference could be placed along with a network packet
         being tunneled.
      </t>
      <t>In terms of how the reference is processed, the most natural place for embedding it would
         be with the payload, not with the header. The reason is because while the packets traverse
         the <em>third</em> network, the reference remains opaque. It is processed only at the IPREF
         gateways of the communicating private networks.
      </t>

      <section><name>IPv4 Option</name>
        <t>text ipv4 option</t>
      </section>

      <section><name>IPv6 Next Header</name>
        <t>text ipv6 next header</t>
      </section>

      <section><name>UDP Tunnel</name>
        <t>text udp tunnel</t>
      </section>

    </section><!-- ^^Embedding References^^ -->

    <section><name>Distributing IPREF Addresses</name>

      <t>text distributing IPREF addresses</t>

      <section><name>DNS Records</name>
        <t>text dns records</t>
      </section>

      <section><name>Local Network Resolver</name>
        <t>text local network resolver</t>
      </section>

      <section><name>DNS Agent</name>
        <t>text dns agent</t>
      </section>

    </section><!-- ^^Distributing IPREF Addresses^^ -->

    <section><name>Related Technologies</name>
      <t>text related technologies</t>
    </section>

    <section><name>Distinct Properties</name>
      <t>text distinct properties</t>
    </section>

    <section anchor="IANA">
    <!-- All drafts are required to have an IANA considerations section. See RFC 8126 for a guide.-->
      <name>IANA Considerations</name>
      <t>This memo includes no request to IANA.</t>
    </section>

    <section anchor="Security">
      <!-- All drafts are required to have a security considerations section. See RFC 3552 for a guide. -->
      <name>Security Considerations</name>
      <t>This document should not affect the security of the Internet.</t>
    </section>

    <!-- NOTE: The Acknowledgements and Contributors sections are at the end of this template -->
  </middle>

  <back>
    <references>
      <name>References</name>
      <references>
        <name>Normative References</name>

        <xi:include href="https://www.rfc-editor.org/refs/bibxml/reference.RFC.8174.xml"/>
        <!-- The recommended and simplest way to include a well known reference -->

      </references>

      <references>
        <name>Informative References</name>

        <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119">
        <!-- Manually added reference -->
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author initials="S." surname="Bradner" fullname="S. Bradner">
              <organization/>
            </author>
            <date year="1997" month="March"/>
            <abstract>
              <t>In many standards track documents several words are used to signify the requirements in the specification. These words are often capitalized. This document defines these words as they should be interpreted in IETF documents. This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.
              </t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>

        <reference anchor="exampleRefMin">
        <!-- Example minimum reference -->
          <front>
            <title>Title</title>
            <author initials="Initials" surname="Surname">
              <organization/>
            </author>
            <date year="2006"/>
          </front>
        </reference>

        <reference anchor="exampleRefOrg" target="http://www.example.com/">
        <!-- Example reference written by an organization not a person -->
          <front>
            <title>Title</title>
            <author>
              <organization>Organization</organization>
            </author>
            <date year="1984"/>
          </front>
        </reference>

      </references>
    </references>

    <section>
      <name>Appendix 1</name>
      <t>This becomes an Appendix</t>
    </section>

    <section anchor="Acknowledgements" numbered="false">
      <!-- an Acknowledgements section is optional -->
      <name>Acknowledgements</name>
      <t>This template uses extracts from templates written by Pekka Savola, Elwyn Davies and
        Henrik Levkowetz.</t>
    </section>

    <section anchor="Contributors" numbered="false">
      <!-- a Contributors section is optional -->
      <name>Contributors</name>
      <t>Thanks to all of the contributors.</t>
      <contact fullname="Jane Doe" initials="J" surname="Doe"><!-- https://authors.ietf.org/en/rfcxml-vocabulary#contact-->
        <!-- including contact information for contributors is optional -->
        <organization>Acme</organization>
        <address>
          <email>jdoe@example.com</email>
        </address>
      </contact>
    </section>

 </back>
</rfc>
<!-- vim: tabstop=2 softtabstop=2 shiftwidth=2 expandtab
-->
